---
import { NUMBER_OF_POSTS_PER_PAGE } from '../server-constants.ts'
import {
  getPosts,
  getRankedPosts,
  getAllTags,
  getNumberOfPages,
} from '../lib/notion/client.ts'
import Layout from '../layouts/Layout.astro'
import NoContents from '../components/NoContents.astro'
import PostDate from '../components/PostDate.astro'
import PostTags from '../components/PostTags.astro'
import PostTitle from '../components/PostTitle.astro'
import PostFeaturedImage from '../components/PostFeaturedImage.astro'
import PostExcerpt from '../components/PostExcerpt.astro'
import ReadMoreLink from '../components/ReadMoreLink.astro'
import Pagination from '../components/Pagination.astro'
import BlogPostsLink from '../components/BlogPostsLink.astro'
import BlogTagsLink from '../components/BlogTagsLink.astro'
import styles from '../styles/blog.module.css'


const [posts, rankedPosts, tags, numberOfPages] = await Promise.all([
  getPosts(3),
  getRankedPosts(),
  getAllTags(),
  getNumberOfPages(),
])
---
<head>
  <meta charset="UTF-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend+Peta:wght@700&family=Noto+Sans+Mono:wght@500&family=Noto+Serif+JP:wght@300&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.6/flowbite.min.css" rel="stylesheet" />
</head>

<title> So Tokumaru</title>

<body class="bg-gradient-to-br from-red-500 from-10% via-blue-500 via-50% to-sky-500 to-90%">
<div class="md:m-4 mt-2 md:rounded-xl font-mono bg-gray-300/50 backdrop-blur-lg md:p-8 p-2 text-black">
  <div  class="colorChange
   p-4 m-2 rounded-xl bg-yellow-0  border-black
  border border-b-4 border-r-4
  ">
  language
  </div>
  <!--名前・アイコン・役職・年齢-->
  
    <!--flexボックス -->
    <div class="w-full m-2 my-5">

      <!--タイトル -->
      <h1 class="text-black font-mono font-bold text-4xl sm:text-5xl md:text-7xl align-bottom">So Tokumaru</h1>
      <!--説明文 -->
      <h3 class="text-black text-xl font-mono align-bottom">
        High School Student From Tokyo in Malaysia,
        <br>
        Working in the educational and digital fields, Love Minecraft
      </h3>
    </div>
    <div class="flex flex-wrap columns-3 w-full">
      <div  class="colorChange 
      p-4 m-2 rounded-xl bg-yellow-0  border-black
      border border-b-4 border-r-4 flex
      ">
      language
    </div>
    <div  class="colorChange 
      p-4 m-2 rounded-xl bg-yellow-0  border-black
      border border-b-4 border-r-4 flex
      ">
      language
    </div>
    <div  class="colorChange 
      p-4 m-2 rounded-xl bg-yellow-0  border-black
      border border-b-4 border-r-4 flex
      ">
      language
    </div>
  </div>
  
  <!--ソーシャルリンク-->
  <!--Twitter-->
  <div class="w-full h-full flex-wrap mt-4">
  <div  class="flex flex-wrap">
   <a href="https://twitter.com/So_to9" target="_blank" aria-label="Twitter" class="colorChange  
   p-4 md:m-2 m-1 rounded-xl bg-sky-0  border-black
   border border-b-4 border-r-4 hover:border-t-4 hover:border-l-4 hover:border-b hover:border-r
   font-medium leading-normal flex flex-intial space-x-2 text-2xl align-bottom
   ">
   <svg
     xmlns="http://www.w3.org/00/svg"
     class="h-6 w-6 md:h-10 md:w-10 text-black"
     fill="currentColor"
     viewBox="0 0 24 24">
     <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" />
   </svg>
   </a>
   <!--GitHub-->
   <a href="https://twitter.com/So_to9" target="_blank" aria-label="GitHub" class="colorChange 
   p-4 md:m-2 m-1 rounded-xl bg-purple-0  border-black
   border border-b-4 border-r-4 hover:border-t-4 hover:border-l-4 hover:border-b hover:border-r
   font-medium leading-normal flex flex-intial space-x-2 text-2xl align-bottom
   ">
   <svg
    xmlns="http://www.w3.org/00/svg"
    class="h-6 w-6 md:h-10 md:w-10 text-black"
    fill="currentColor"
    viewBox="0 0 24 24">
    <path
      d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
  </svg>
   </a>
   <!--Instagram -->
   <a href="https://twitter.com/So_to9" target="_blank" aria-label="Instagram" class="colorChange 
   p-4 md:m-2 m-1 rounded-xl bg-pink-0  border-black
   border border-b-4 border-r-4 hover:border-t-4 hover:border-l-4 hover:border-b hover:border-r
   font-medium leading-normal flex flex-intial space-x-2 text-2xl align-bottom
   ">
   <svg
    xmlns="http://www.w3.org/00/svg"
    class="h-6 w-6 md:h-10 md:w-10 text-black"
    fill="currentColor"
    viewBox="0 0 24 24">
    <path
      d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
  </svg>
   </a>
  </a>
  <!--Linkedin -->
  <a href="https://twitter.com/So_to9" target="_blank" aria-label="Linkedin" class="colorChange 
  p-4 md:m-2 m-1 rounded-xl bg-blue-0  border-black
  border border-b-4 border-r-4 hover:border-t-4 hover:border-l-4 hover:border-b hover:border-r
  font-medium leading-normal flex flex-intial space-x-2 text-2xl align-bottom
  ">
  <svg
    xmlns="http://www.w3.org/00/svg"
    class="h-6 w-6 md:h-10 md:w-10 text-black"
    fill="currentColor"
    viewBox="0 0 24 24">
    <path
      d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z" />
  </svg>
  </a>
  </div>
  </div>

</div>


<div class="md:m-4 mt-2 md:rounded-xl font-mono bg-gray-300 md:p-8 p-2 text-black">

<!--カラー調整ボタン＆スライダ -->
<div class="flex h-full w-full mt-4">
<!--button -->
<button id="changeColorIntensity" class="m-2 rounded-xl bg-pink-0  border-black colorChange
  border border-b-4 border-r-4 hover:border-t-4 hover:border-l-4 hover:border-b hover:border-r
   flex p-4 place-items-center">
   <svg xmlns="http://www.w3.org/2000/svg" class="fill-amber-500 h-10 w-10 justify-center items-center" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M234.7 42.7L197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1L248.8 123c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2L277.3 42.7 263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5L234.7 42.7zM46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0L529.9 116.5c18.7-18.7 18.7-49.1 0-67.9L495.3 14.1c-18.7-18.7-49.1-18.7-67.9 0L46.1 395.4zM484.6 82.6l-105 105-23.3-23.3 105-105 23.3 23.3zM7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96 106.8 39.5C105.1 35 100.8 32 96 32s-9.1 3-10.8 7.5L64 96 7.5 117.2zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352l-56.5 21.2z"/></svg>
  Color Deco
  </button>



<!--sliderボックス() -->
<div class="p-4 m-2 rounded-xl bg-pink-0  border-black colorChange
border border-b-4 border-r-4 w-full flex-initial justify-center items-center hidden md:flex">
<svg xmlns="http://www.w3.org/2000/svg" class="fill-amber-500 h-10 w-10" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"/></svg>
<!--スライダ本体 -->
<input aria-label="Color Intensity" id="steps-range" type="range" min="0" max="500" value="0" step="100" class="
mx-4 w-full h-2 bg-yellow-500 rounded-full appearance-none cursor-pointer dark:bg-gray-700">
</div>
</div>

</div>


<div class="md:m-4 mt-2 md:rounded-xl font-mono bg-gray-300 md:p-8 p-2 text-black">


  <!--Blog(notionから読み込む)-->
  <div class="flex h-full w-full mt-4">
    <div  class="p-4 m-2 rounded-xl  border-black">
    <h1 class="flex justify-center text-5xl font-mono">Blogs</h1>
    </div>
    <div  class="m-2 rounded-xl bg-pink-0  border-black colorChange
    border border-b-4 border-r-4 hover:border-t-4 hover:border-l-4 hover:border-b hover:border-r flex-none p-4 relative">
      <a href="../blog" aria-label="See more blog posts" class="justify-center font-mono flex">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg>
      </a>
    </div>
  </div>
  
  <!--blogカード-->
  <div  class="grid md:grid-cols-3 md:gap-4">

    {
      posts.length === 0 ? (
        <NoContents contents={posts} />
      ) : (
        posts.map((post) => (
          <div class="relative {styles.post} p-4 m-2 bg-yellow-0 rounded-xl border-black colorChange 
           border border-b-4 border-r-4 flex flex-col justify-center max-h-80 overflow-hidden absolute
           hover:border-t-4 hover:border-l-4 hover:border-b hover:border-r rotate-[2deg]

          ">
            <PostDate post={post} />
            <PostTitle post={post} />
            <!--<PostFeaturedImage post={post} />-->
            <PostExcerpt post={post} />
            <ReadMoreLink post={post} />
             
          </div>
        ))
      )
    }
  </div>


</div>


  </div>
  <!--詳しい自己紹介、スキル、経歴とか-->
  <div class="flex h-full w-full mt-4">
    <div  class="p-4 m-2 rounded-xl  border-black">
    <h1 class="flex justify-center text-5xl font-mono">About</h1>
    </div>
  </div>






  <script>
    // 要素とボタンを取得
    var elements = document.querySelectorAll(".colorChange");
    var button = document.getElementById("changeColorIntensity");
    
    // ボタンのクリックイベントリスナーを追加
    button.addEventListener("click", function() {
      // 各要素に対する操作
      elements.forEach(element => {
        // クラスリストを取得
        var classes = Array.from(element.classList);
    
        // 現在の背景色クラスを取得
        var currentClass = classes.find(cls => cls.startsWith('bg-'));
    
        // クラス名から色と強度を取得
        var colorClassParts = currentClass.split("-");
        var color = colorClassParts[1];
        var intensity = colorClassParts[2];
    
        // 強度を変更
        var newIntensity = intensity === "500" ? "0" : "500";
    
        // 元のクラスを削除して新しいクラスを追加
        element.classList.remove(currentClass);
        element.classList.add(`bg-${color}-${newIntensity}`);
      });
    });
    </script>








<script>
  // 要素とスライダーを取得
  var elements = document.querySelectorAll(".colorChange");
  var slider = document.getElementById("steps-range");
  
  // スライダーの値が変わったときのイベントリスナーを追加
  slider.addEventListener("input", function() {
    // 新しい強度を取得
    var newIntensity = this.value;
  
    // 各要素に対する操作
    elements.forEach(element => {
      // クラスリストを取得
      var classes = Array.from(element.classList);
  
      // 現在の背景色クラスを取得
      var currentClass = classes.find(cls => cls.startsWith('bg-'));
  
      // クラス名から色を取得
      var colorClassParts = currentClass.split("-");
      var color = colorClassParts[1];
  
      // 元のクラスを削除して新しいクラスを追加
      element.classList.remove(currentClass);
      element.classList.add(`bg-${color}-${newIntensity}`);
    });
  });
  </script>  
  
  
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.6/flowbite.min.js"></script>
</body>

<!--
使用可能な色
bg-yellow-0
bg-cyan-0
bg-purple-0






 -->